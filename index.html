<!doctype html>
<html ng-app>
<head>
  <link rel="stylesheet" href="css/bootstrap.min.css" type="text/css" media="screen" title="no title" charset="utf-8">
  <link rel="stylesheet" href="css/bootstrap-responsive.min.css" type="text/css" media="screen" title="no title" charset="utf-8">

  <script src="http://cdnjs.cloudflare.com/ajax/libs/angular.js/1.0.1/angular.min.js" type="text/javascript" charset="utf-8"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript" charset="utf-8"></script>
  <script src="js/bootstrap.min.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" charset="utf-8">
  
  function CountryCtrl($scope, $http) {
    $scope.foo = "Where are you now? ";
    $scope.mylocation = { country: 'USA', state: 'South Carolina', city: 'Charleston'}

    $scope.states = ['Georgia', 'South Carolina', 'New Jersey'];
    $scope.cities = ['Atlanta', 'Charleston', 'Moorestown'];
    $scope.change = function(){
      // http request....
      $scope.results = [{value: "Foo"}, {value: "bar"}]
      if($scope.mylocation.country === 'UK') {
        $scope.states = ['Scotland', 'England', 'Wales'];
        $scope.cities = ['London', 'York', 'Jersey'];        
      } else {
        $scope.states = ['Georgia', 'South Carolina', 'New Jersey'];
        $scope.cities = ['Atlanta', 'Charleston', 'Moorestown'];
      }
    }
    $scope.stateChanged = function(){
      console.log('State Changed...');
      if($scope.mylocation.state === 'Scotland') {
        $scope.cities = ['Jersey'];
      } else if ($scope.mylocation.country === 'USA') {
        $scope.cities = ['Atlanta', 'Charleston', 'Moorestown'];
      } else {
        $scope.cities = ['London', 'York', 'Jersey'];  
      }
    }
    $scope.cityChanged = function(){
      console.log('City Changed...')
    }
    $scope.clickFoo = function(){
      $scope.foo = "Bar..."
    }
  }
  
  $(function(){
    //$('#country')
  });
</script>
</head>
<body>
<div class="container" ng-controller="CountryCtrl">
  <h1>{{foo}}</h1>
  <input type="text" placeholder="Enter Country Name" ng-model="mylocation.country" ng-change="change()"></input>
  <input id="country" type="hidden" value="{{mylocation.country}}"></input>
  <select ng-model="mylocation.state" ng-options="state for state in states" ng-change="stateChanged()">
    <option value="">--- Choose State ---</option>
  </select>
  <select ng-model="mylocation.city" ng-options="city for city in cities" ng-change="cityChanged()">
    <option value="">--- Choose City ---</option>
  </select>
  <button ng-click="clickFoo()">Foo</button>

  <br />
  <h2>Results</h2>
  {{mylocation.country}}
  {{mylocation.state}}
  {{mylocation.city}}
</div>
</body>
</html>